<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta charset="utf-8">
  <title>{{ page.title }} - {{ site.title }}</title>
  <link rel="stylesheet" href="{{ "assets/css/main.css" | relative_url }}">
  <link rel="stylesheet" href="https://webring.mesagrey.ca/webring/boredring.css">
  <script type="text/javascript" src="/assets/js/randoText.js"></script>
  <script type="text/javascript" src="/assets/js/updates.js"></script>
  <script>
    function loadJSON(src) {
      return fetch(src).then(res => {
        if (!res.ok) throw new Error(`Failed to load ${src}`);
        return res.json();
      });
    }

    // Wait for both JSON files to load before continuing
    Promise.all([
      loadJSON('/assets/js/json/updates.json'),
      loadJSON('/assets/js/json/lines.json')
    ]).then(([updates, lines]) => {
      window.updatesData = updates;
      window.linesData = lines;
      // Now load the rest of the scripts
      var scripts = [
        '/assets/js/randoText.js',
        '/assets/js/updates.js'
      ];
      scripts.forEach(function(src) {
        var s = document.createElement('script');
        s.src = src;
        document.head.appendChild(s);
      });
    }).catch(err => {
      console.error('Error loading JSON:', err);
    });
  </script>
  <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  {% include meta.html %}
  </head>
  {% include gtag.html %}
  <body>
  
  <div class="wrapper">
  <div class="header">
  <div class="header-shadow">
  <img src="/assets/images/banner.png" alt="header image">
  </div>
  </div>
  
  <div class="title">
              <marquee scrollamount="7" direction="right" style="padding-top:5px">
              {% for image in site.static_files %}
                {% if image.path contains '/assets/images/badges/' %}
                  {% assign suffix = image.path | remove: '/assets/images/badges/' %}
                  {% unless suffix contains '/' %}
                    <img id="badge" src="{{ image.path }}" alt="{{ image.name }}">
                  {% endunless %}
                {% endif %}
              {% endfor %}
            </marquee>
  </div>
  
  <div class="links">
    <ul id="navigation">
      <li><a href="/">home</a></li>
      <li><a href="/games">games</a></li>
      <li><a href="/about">about</a></li>
      <li><a href="/contact">contact</a></li>
      <li><a href="https://github.com/Bored-Entertainment/mesaredux">github</a></li>
      <li><a href="https://github.com/Bored-Entertainment/mesaredux/issues">game request</a></li>
    </ul>
  </div>
  
  <div class="wrapper-2">
  
  <div class="main"><div class="box">  
    {% assign header_text = page.header %}
    {% if header_text == nil or header_text == "" %}
      {% assign base_title = page.title | default: site.title %}
      {% if base_title %}
        {% assign header_text = base_title | upcase %}
        {% assign header_text = "* " | append: header_text | append: ": *" %}
      {% endif %}
    {% endif %}
    <h2 id="section-1">{{ header_text }}</h2>
    <div class="inner">
    {% if page.title == "about" %}
    <div style="max-height: 60vh; overflow-y: auto;">
    {{ content }}
    </div>
    {% else %}
    {{ content }}
    {% endif %}
    </div>
    </div>

    {% if page.title == "home" %}
      <div class="box">
      <h2 id="section-2">{{ page.header2 }}</h2><div class="inner">
      {{ page.body2 }}
      </div></div>

    <div class="box">    
    <h2 id="section-3">{{ page.header3 }}</h2>
    <div class="inner">
      {% include gamesPreview.html %}
    </div>
  </div>
    {% endif %}
  </div> 
    <div class="sidebar-left"><div class="box">
  <h3>* UPDATE LOG: *</h3><div class="inner">
    <div id="updates-list"></div>
  </div></div>
  <div class="box">
    <h4>* MESλREDUX'S 88x31: *</h4>
    <div class="inner" style="padding-top: 5px; text-align: center;">
    <sub>YOU WILL BE PUTTING THIS ON YOUR WEBSITE AND EVERYWHERE ELSE YOU PHYSICALLY CAN! (please it's so pretty)</sub>
      <br><br>
    <a href="https://mesaredux.mesagrey.ca" style="text-align: center; margin: 0 auto; display: block;">
      <img id="badge" src="/assets/images/mesaredux.gif" alt="MESλREDUX: Unblocked Games for the masses! - Click to visit!" style="border: 1px solid #ff44007c;">
    </a>
    <br>
    <div style="overflow-x: auto; white-space: nowrap; border: 1px solid #ff4500; padding: 5px; background: #141414; scrollbar-width: thin; scrollbar-color: rgba(255, 255, 255, 0.3) rgba(0, 0, 0, 0.3);">
      <code id="badge-embed-code">
      &lt;a href="https://mesaredux.mesagrey.ca"&gt;&lt;img src="https://mesaredux.mesagrey.ca/assets/images/mesaredux.gif" alt="MESλREDUX: Unblocked Games for the masses! - Click to visit!" style="border: 1px solid #ff44007c;"&gt;&lt;/a&gt;
    </code>
    </div>
    <br>
    <button type="button" class="copy-badge-button" data-target="badge-embed-code">
      copy to clipboard
    </button>
  </div>
  </div>
    <div class="box">
    <h4>* SITES YOU SHOULD CHECK OUT: *</h4>
    <div class="inner">
    <div style="max-height: 13vh; overflow-y: auto; padding-top: 5px; text-align: center; margin: 0 auto;">
        {% for image in site.static_files %}
        {% if image.path contains '/assets/images/badges/links' %}
          <a href="https://{{ image.name | replace: '.png', '' | replace: '.gif', '' | replace: '.jpg', '' }}">
            <img id="badge" src="{{ image.path }}" alt="{{ image.name }}">
          </a>
        {% endif %}
        {% endfor %}
    </div>
    </div>
  </div>
  </div>
    
    <div class="sidebar-right"><div class="box">
    <h3>* QOTD: *<br><sub>* (QUOTE OF THE DAY) *</sub></h3><div class="inner">
    <p id="date">
    <div class="box">
      <p id="line"></p>
    </div>
    </div></div>
      <div class="box"><div class="inner">
    <script src="/assets/js/boredring-rotator.js"></script>
    <div class="boredring-rotator">
      <div id="boredring">
        <script type="text/javascript" src="https://webring.mesagrey.ca/webring/boredring-variables.js"></script>
        <script type="text/javascript" src="https://webring.mesagrey.ca/webring/boredring-widget.js"></script>
      </div>
    </div>
  </div>
    </div>
    
    </div>
    <br>
    <div class="footer" role="contentinfo">
      <div class="inner" style="text-align:center; padding:0.5em 1em;">
  <p>&copy; {% assign thisyear = site.time | date: "%Y" %}{% if thisyear == "2025" %}2025{% else %}2025 - {{ thisyear }}{% endif %} Bored Entertainment. All rights reserved.</p>
      </div>
    </div>
    </div>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var copyButtons = document.querySelectorAll('.copy-badge-button');
      if (!copyButtons.length) {
        return;
      }

      copyButtons.forEach(function(button) {
        var originalLabel = button.textContent.trim();
        var revertTimer = null;

        button.addEventListener('click', function() {
          var targetId = button.getAttribute('data-target');
          if (!targetId) {
            return;
          }

          var codeBlock = document.getElementById(targetId);
          if (!codeBlock) {
            return;
          }

          var snippet = codeBlock.textContent.trim();
          if (!snippet) {
            return;
          }

          var handleSuccess = function() {
            clearTimeout(revertTimer);
            button.textContent = 'copied!';
            button.disabled = true;
            revertTimer = setTimeout(function() {
              button.textContent = originalLabel;
              button.disabled = false;
            }, 2000);
          };

          var handleError = function(error) {
            if (error) {
              console.error('Clipboard copy failed:', error);
            }
            clearTimeout(revertTimer);
            button.textContent = 'copy failed';
            button.disabled = false;
            revertTimer = setTimeout(function() {
              button.textContent = originalLabel;
            }, 2000);
          };

          var fallbackCopy = function(text) {
            var textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.setAttribute('readonly', '');
            textarea.style.position = 'absolute';
            textarea.style.left = '-9999px';
            document.body.appendChild(textarea);

            var selection = document.getSelection();
            var selectedRange = selection && selection.rangeCount > 0 ? selection.getRangeAt(0) : null;

            textarea.select();
            var succeeded = false;
            try {
              succeeded = document.execCommand('copy');
            } catch (err) {
              succeeded = false;
            }

            document.body.removeChild(textarea);

            if (selectedRange) {
              selection.removeAllRanges();
              selection.addRange(selectedRange);
            }

            return succeeded;
          };

          if (navigator.clipboard && navigator.clipboard.writeText) {
            navigator.clipboard.writeText(snippet)
              .then(handleSuccess)
              .catch(function(err) {
                if (fallbackCopy(snippet)) {
                  handleSuccess();
                } else {
                  handleError(err);
                }
              });
          } else if (fallbackCopy(snippet)) {
            handleSuccess();
          } else {
            handleError();
          }
        });
      });
    });
  </script>

</body></html>
